<!--

   Copyright(c) 2022 Max Qian  <astroair.cn>

   This program is free software; you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation; either version 2 of the License, or
   (at your option) any later version.
   
   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.
   
   You should have received a copy of the GNU General Public License
   along with this program; if not, write to the Free Software
   Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
   MA 02110-1301, USA.
   
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Tools</title>

     <!-- Icon -->
     <link rel="icon" sizes="16x16" type="image/png" href="{{url_for('static',filename='textures/icons/telescope.png')}}">

    <!-- Font Awesome 6.2.0 Pro -->
    <link rel="stylesheet" href="/static/css/fontawesome/fontawesome.min.css">
    <link rel="stylesheet" href="/static/css/fontawesome/solid.min.css">
    <!-- Bootstrap select -->
    <link rel="stylesheet" href="/static/css/bootstrap/bootstrap-select.min.css">
    <!-- AdminLTE Theme style -->
    <link rel="stylesheet" href="/static/css/adminlte.min.css">
    <!-- Loading animation -->
    <link rel="stylesheet" href="/static/css/client/loading.css">

</head>

<body style="height: auto;" class="sidebar-mini sidebar-closed sidebar-collapse dark-mode">
    <!-- loading开始 -->
    <div id="loading-animation">
        <div id="loading-animation-center">
            <div id="loading-animation-center-absolute">
                <div class="loading_object" id="loading_four"></div>
                <div class="loading_object" id="loading_three"></div>
                <div class="loading_object" id="loading_two"></div>
                <div class="loading_object" id="loading_one"></div>
            </div>
        </div>
    </div>
    <script>!function () { function e() { setTimeout(() => { $("#loading-animation").fadeOut(540) }, 500) } window.jQuery ? $(document).ready(() => { e() }) : document.onreadystatechange = (() => { "interactive" === document.readyState && e() }) }();</script>
    <!-- loading 结束 -->
    <div class="wrapper">
        <!-- Main content -->
        <section class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="card card-default card-primary collapsed-card">
                                    <div class="card-header">
                                        <div class="card-title">
                                            <i class="fas fa-timer"></i>
                                            时间同步
                                        </div>
                                        <div class="card-tools">
                                            <button type="button" class="btn btn-tool"
                                                data-card-widget="collapse" title="Collapse">
                                                <i class="fas fa-minus"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="input-group input-group-sm">
                                                    <input type='text' class='form-control form-control-sm text-white text-center bg-dark'
                                                            id='time' placeholder="客户端时间">
                                                    <button id='get_time' class="btn btn-sm btn-outline-primary">
                                                        <i class="fas fa-times-circle"></i>
                                                        获取
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row pt-1">
                                            <div class="col-sm-12">
                                                <div class="input-group input-group-sm">
                                                    <div class="col p-0">
                                                        <button id='sync_time' class="btn btn-sm btn-outline-primary btn-block">
                                                            <i class="fas fa-sync"></i>
                                                            同步
                                                        </button>
                                                    </div>
                                                    <div class="col p-0">
                                                        <button id='reset_time' class="btn btn-sm btn-outline-warning btn-block">
                                                            <i class="fas fa-redo"></i>
                                                            重置
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row pt-2">
                                            <div class="col-sm-12">
                                                <div id="time_error" hidden class=" alert alert-danger alert-dismissible">
                                                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                                                    <h5><i class="icon fas fa-ban"></i>错误</h5>
                                                    <p id="time_error_message"></p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row pt-2">
                                            <div class="col-sm-12">
                                                <div id="time_info" hidden class="alert alert-info alert-dismissible">
                                                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                                                    <h5><i class="icon fas fa-info"></i>提示</h5>
                                                    <p id="time_info_message"></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="card card-default card-info collapsed-card">
                                    <div class="card-header">
                                        <div class="card-title">
                                            <i class="fas fa-satellite"></i>
                                            定位
                                        </div>
                                        <div class="card-tools">
                                            <button type="button" class="btn btn-tool"
                                                data-card-widget="collapse" title="Collapse">
                                                <i class="fas fa-minus"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="input-group input-group-sm">
                                                    <div class="col p-0">
                                                        <label>经度</label>
                                                        <input type='text' class='form-control form-control-sm text-white text-center bg-dark'
                                                                id='lon' placeholder="">
                                                    </div>
                                                    <div class="col p-0">
                                                        <label>纬度</label>
                                                        <input type='text' class='form-control form-control-sm text-white text-center bg-dark'
                                                        id='lat' placeholder="">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row pt-1">
                                            <div class="col-sm-12">
                                                <div class="input-group input-group-sm">
                                                    <div class="col p-0">
                                                        <button id='get_location' class="btn btn-sm btn-outline-warning btn-block">
                                                            <i class="fas fa-refresh"></i>
                                                            获取
                                                        </button>
                                                    </div>
                                                    <div class="col p-0">
                                                        <button id='sync_location' class="btn btn-sm btn-outline-primary btn-block">
                                                            <i class="fas fa-sync"></i>
                                                            同步
                                                        </button>
                                                    </div>
                                                    <div class="col p-0">
                                                        <button id='reset_location' class="btn btn-sm btn-outline-danger btn-block">
                                                            <i class="fas fa-redo"></i>
                                                            重置
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row pt-2">
                                            <div class="col-sm-12">
                                                <div id="location_error" hidden class=" alert alert-danger alert-dismissible">
                                                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                                                    <h5><i class="icon fas fa-ban"></i>错误</h5>
                                                    <p id="location_error_message"></p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row pt-2">
                                            <div class="col-sm-12">
                                                <div id="location_info" hidden class="alert alert-info alert-dismissible">
                                                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                                                    <h5><i class="icon fas fa-info"></i>提示</h5>
                                                    <p id="location_info_message"></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="card card-default card-indigo collapsed-card">
                                    <div class="card-header">
                                        <div class="card-title">
                                            <i class="fas fa-soft-serve"></i>
                                            更新
                                        </div>
                                        <div class="card-tools">
                                            <button type="button" class="btn btn-tool"
                                                data-card-widget="collapse" title="Collapse">
                                                <i class="fas fa-minus"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col p-1">
                                                <button id='update_kstars' class="btn btn-sm btn-info btn-block">
                                                    <i class="fas fa-telescope"></i>
                                                    更新Kstars
                                                </button>
                                            </div>
                                            <div class="col p-1">
                                                <button id='update_phd2' class="btn btn-sm btn-primary btn-block">
                                                    <i class="fas fa-crosshairs"></i>
                                                    更新PHD2
                                                </button>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col p-1">
                                                <button id='update_astap' class="btn btn-sm btn-primary btn-block">
                                                    <i class="fas fa-camera-viewfinder"></i>
                                                    更新Astap
                                                </button>
                                            </div>
                                            <div class="col p-1">
                                                <button id='update_python' class="btn btn-sm btn-info btn-block">
                                                    <i class="fas fa-map"></i>
                                                    更新Python
                                                </button>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col p-1">
                                                <button id='update_plugins' class="btn btn-sm btn-info btn-block">
                                                    <i class="fas fa-plug"></i>
                                                    更新插件
                                                </button>
                                            </div>
                                            <div class="col p-1">
                                                <button id='update_all' class="btn btn-sm btn-primary btn-block">
                                                    <i class="fas fa-server"></i>
                                                    更新所有软件
                                                </button>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <textarea id="update_log" rows="5" style="width: 100%; font-family: monospace;" readonly class="text-white form-control form-control-sm"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="card card-default card-pink collapsed-card">
                                    <div class="card-header">
                                        <div class="card-title">
                                            <i class="fas fa-file-download"></i>
                                            下载解析文件
                                        </div>
                                        <div class="card-tools">
                                            <button type="button" class="btn btn-tool"
                                                data-card-widget="collapse" title="Collapse">
                                                <i class="fas fa-minus"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="input-group d-flex">
                                                    <select id="solver" data-style="btn-outline-warning" class="selectpicker form-control form-control-sm pr-1">
                                                        <option value="astap">ASTAP</option>
                                                        <option value="astrometry">Astrometry</option>
                                                    </select>
                                                    <select id="template_list" data-live-search="true" data-style="btn-outline-primary" multiple class="selectpicker form-control form-control-sm">

                                                    </select>
                                                    <button id='refresh_template_list' class="btn btn-sm btn-outline-success p-0 pl-1">
                                                        <i class="fas fa-redo"></i>
                                                        刷新
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-12 pt-2">
                                                <button id='download_template' class="btn btn-sm btn-outline-primary btn-block">
                                                    <i class="fas fa-download"></i>
                                                    下载
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div class="container">
		<!-- Central Modal Medium Danger -->
		<div class="modal fade" id="centralModalDanger" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
			aria-hidden="true">
			<div class="modal-dialog modal-notify modal-danger" role="document">
				<!--Content-->
				<div class="modal-content">
					<!--Header-->
					<div class="modal-header">
						<p class="heading lead" id="errorModalTitle">错误信息</p>
						<button type="button" class="close modal-voy-btn" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true" class="white-text">&times;</span>
						</button>
					</div>

					<!--Body-->
					<div class="modal-body">
						<div class="text-center">
							<i class="fas fa-exclamation-triangle fa-4x mb-3 animated bounceIn"></i>
							<p id="errorMessage" class="note note-danger">
								未知错误
							</p>
							<p id="contactMessage" class="text-muted">
								<small>如果你有任何问题，请将详细细节告知开发者</small>
							</p>
						</div>
					</div>

					<!--Footer-->
					<div class="modal-footer justify-content-center">
						<a class="btn btn-outline-danger modal-voy-btn"
							href="mailto:astro_air@126.com,fran.dibiase@gmail.com">
							<i class="fas fa-envelope mr-1"></i>联系我们</a>
						<button type="button" class="btn btn-danger waves-effect modal-voy-btn" data-dismiss="modal">
							Ok
						</button>
					</div>
				</div>
				<!--/.Content-->
			</div>
		</div>
	</div>
	<!-- Modal container end -->

    <!-- jQuery -->
    <script src="/static/js/jquery/jquery.min.js"></script>
    <!-- Bootstrap 4 -->
    <script src="/static/js/bootstrap/bootstrap.bundle.min.js"></script>
    <!-- Bootstrap select -->
    <script src="/static/js/bootstrap/bootstrap-select.min.js"></script>
    <!-- AdminLTE App -->
    <script src="/static/js/adminlte.min.js"></script>
    <!-- Tools JS -->
    <script src="/static/js/client/tools.js"></script>
</body>
</html>