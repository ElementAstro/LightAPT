(function(s,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("overlayscrollbars")):typeof define=="function"&&define.amd?define(["exports","vue","overlayscrollbars"],e):(s=typeof globalThis<"u"?globalThis:s||self,e(s.OverlayScrollbarsVue={},s.Vue,s.OverlayScrollbarsGlobal))})(this,function(s,e,b){"use strict";const h=()=>{if(typeof window>"u"){const l=()=>{};return[l,l]}let c,o;const r=window,i=typeof r.requestIdleCallback=="function",a=r.requestAnimationFrame,n=r.cancelAnimationFrame,d=i?r.requestIdleCallback:a,f=i?r.cancelIdleCallback:n,t=()=>{f(c),n(o)};return[(l,S)=>{t(),c=d(i?()=>{t(),o=a(l)}:l,typeof S=="object"?S:{timeout:2233})},t]},w=c=>{let o=null,r,i,a;const n=e.shallowRef(c||{}),[d,f]=h();return e.watch(()=>{var t;return e.unref((t=n.value)==null?void 0:t.defer)},t=>{a=t},{deep:!0,immediate:!0}),e.watch(()=>{var t;return e.unref((t=n.value)==null?void 0:t.options)},t=>{r=t,b.OverlayScrollbars.valid(o)&&o.options(r||{},!0)},{deep:!0,immediate:!0}),e.watch(()=>{var t;return e.unref((t=n.value)==null?void 0:t.events)},t=>{i=t,b.OverlayScrollbars.valid(o)&&o.on(i||{},!0)},{deep:!0,immediate:!0}),e.onUnmounted(()=>{f(),o==null||o.destroy()}),[t=>{if(b.OverlayScrollbars.valid(o))return o;const l=()=>o=b.OverlayScrollbars(t,r||{},i||{});a?d(l,a):l()},()=>o]},I=e.defineComponent({__name:"OverlayScrollbarsComponent",props:{element:{type:String,default:"div"},options:{type:Object},events:{type:Object},defer:{type:[Boolean,Object]}},emits:["osInitialized","osUpdated","osDestroyed","osScroll"],setup(c,{expose:o,emit:r}){const i=c,a={initialized:"osInitialized",updated:"osUpdated",destroyed:"osDestroyed",scroll:"osScroll"},n=e.shallowRef(null),d=e.shallowRef(null),f=e.ref(),{element:t,options:l,events:S,defer:_}=e.toRefs(i),[R,O]=w({options:l,events:f,defer:_});return o({osInstance:O,getElement:()=>n.value}),e.watchPostEffect(m=>{const{value:y}=n,{value:u}=d;y&&u&&(R({target:y,elements:{viewport:u,content:u}}),m(()=>{var p;return(p=O())==null?void 0:p.destroy()}))}),e.watch(()=>e.unref(S),m=>{const y=m||{};f.value=Object.keys(a).reduce((u,p)=>{const v=y[p];return u[p]=[(...C)=>r(a[p],...C),...(Array.isArray(v)?v:[v]).filter(Boolean)],u},{})},{deep:!0,immediate:!0}),(m,y)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(t)),{"data-overlayscrollbars-initialize":"",ref_key:"elementRef",ref:n},{default:e.withCtx(()=>[e.createElementVNode("div",{ref_key:"slotRef",ref:d},[e.renderSlot(m.$slots,"default")],512)]),_:3},512))}});s.OverlayScrollbarsComponent=I,s.useOverlayScrollbars=w,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
